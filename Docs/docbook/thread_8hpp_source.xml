<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_thread_8hpp_source" xml:lang="ru">
<title>thread.hpp</title>
<indexterm><primary>C:/Users/yyari/Documents/KolibriOS/KolibriOS-Cpp-Lib/include/kolibriLib/system/thread.hpp</primary></indexterm>
<programlisting linenumbering="unnumbered">1 <emphasis role="preprocessor">#ifndef&#32;__THREAD_H__</emphasis>
2 <emphasis role="preprocessor">#define&#32;__THREAD_H__</emphasis>
3 
4 <emphasis role="preprocessor">#include&#32;&lt;stdlib.h&gt;</emphasis>
5 <emphasis role="preprocessor">#include&#32;&lt;sys/ksys.h&gt;</emphasis>
6 
7 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_kolibri_lib">KolibriLib</link>
8 {
11 &#32;&#32;&#32;&#32;<emphasis role="keyword">inline</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1a5538a86d3c38c7c88391e9360e01d023">Wait</link>(<emphasis role="keywordtype">int</emphasis>&#32;time)
12 &#32;&#32;&#32;&#32;{
13 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_ksys_delay(time);
14 &#32;&#32;&#32;&#32;}
15 
18 &#32;&#32;&#32;&#32;<emphasis role="keyword">inline</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1a5538a86d3c38c7c88391e9360e01d023">Wait</link>()
19 &#32;&#32;&#32;&#32;{
20 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_ksys_thread_yield();
21 &#32;&#32;&#32;&#32;}
22 
24 &#32;&#32;&#32;&#32;<emphasis role="keyword">namespace&#32;</emphasis>Thread
25 &#32;&#32;&#32;&#32;{
27 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1ac583b7a88e5bddeab393a41bf9929c51">Slot</link>;
28 
30 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a1635692d8eb5eddc602109be07a50a45">PID</link>;
31 
33 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">typedef</emphasis>&#32;ksys_thread_t&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a8c4f7f76752ed94392f9409f4f9554da">ThreadInfo</link>;
34 
40 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a1635692d8eb5eddc602109be07a50a45">PID</link>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a692c4300c1ca95211eabb91947518cf2">CreateThread</link>(<emphasis role="keywordtype">void</emphasis>(*ThreadEntry)(<emphasis role="keywordtype">void</emphasis>*),&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;ThreadStackSize&#32;=&#32;2048);
41 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
42 
47 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">inline</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a53a7d295e396cff9eaca2ceae95b6b01">TerminateThread</link>(<link linkend="_namespace_kolibri_lib_1_1_thread_1a1635692d8eb5eddc602109be07a50a45">PID</link>&#32;pid)
48 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
49 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;a;
50 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;asm_inline(
51 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;int&#32;$0x40&quot;</emphasis>
52 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;:&#32;<emphasis role="stringliteral">&quot;=a&quot;</emphasis>(a)
53 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;:&#32;<emphasis role="stringliteral">&quot;a&quot;</emphasis>(18),&#32;<emphasis role="stringliteral">&quot;b&quot;</emphasis>(18),&#32;<emphasis role="stringliteral">&quot;c&quot;</emphasis>(pid));
54 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;!a;
55 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
56 
60 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">inline</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1ac583b7a88e5bddeab393a41bf9929c51">Slot</link>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a6e66cd0e046a044373f8fa5a6ee8ab77">GetThreadSlot</link>(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a1635692d8eb5eddc602109be07a50a45">PID</link>&amp;&#32;pid)
61 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
62 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;_ksys_get_thread_slot(pid);
63 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
64 
69 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a8c4f7f76752ed94392f9409f4f9554da">ThreadInfo</link>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1a620ca73995252a0f262597d84b5cc40f">GetThreadInfo</link>(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_namespace_kolibri_lib_1_1_thread_1ac583b7a88e5bddeab393a41bf9929c51">Slot</link>&#32;&amp;thread);
70 
71 &#32;&#32;&#32;&#32;}&#32;<emphasis role="comment">//&#32;namespace&#32;Thread</emphasis>
72 &#32;&#32;&#32;&#32;
73 }&#32;<emphasis role="comment">//&#32;namespace&#32;KolibriLib</emphasis>
74 
75 
76 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//&#32;__THREAD_H__</emphasis>
</programlisting></section>
