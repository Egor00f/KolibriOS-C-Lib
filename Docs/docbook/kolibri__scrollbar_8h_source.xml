<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_kolibri__scrollbar_8h_source" xml:lang="ru">
<title>kolibri_scrollbar.h</title>
<indexterm><primary>C:/Users/yyari/Documents/KolibriOS/KolibriOS-Cpp-Lib/include/C_Layer/INCLUDE/kolibri_scrollbar.h</primary></indexterm>
<programlisting linenumbering="unnumbered">1 <emphasis role="preprocessor">#ifndef&#32;KOLIBRI_SCROLLBAR_H</emphasis>
2 <emphasis role="preprocessor">#define&#32;KOLIBRI_SCROLLBAR_H</emphasis>
3 
4 <emphasis role="preprocessor">#include&#32;&lt;kos32sys.h&gt;</emphasis>
5 <emphasis role="preprocessor">#include&#32;&lt;kolibriLib/system/os.hpp&gt;</emphasis>
6 
7 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>__attribute__&#32;((__packed__))&#32;{
8 <emphasis role="comment">//&#32;&#32;uint16_t&#32;xsize;</emphasis>
9 <emphasis role="comment">//&#32;&#32;&#32;&#32;uint16_t&#32;xpos;</emphasis>
10 <emphasis role="comment">//&#32;&#32;&#32;&#32;uint16_t&#32;ysize;</emphasis>
11 <emphasis role="comment">//&#32;&#32;&#32;&#32;uint16_t&#32;ypos;</emphasis>
12 &#32;&#32;&#32;&#32;uint32_t&#32;x_w;
13 &#32;&#32;&#32;&#32;uint32_t&#32;y_h;
14 &#32;&#32;&#32;&#32;uint32_t&#32;btn_height;
15 &#32;&#32;&#32;&#32;uint32_t&#32;type;&#32;&#32;<emphasis role="comment">//&#32;type&#32;1&#32;-&#32;stylish&#32;frame,&#32;type&#32;2&#32;-&#32;?,&#32;type&#32;0&#32;-&#32;?</emphasis>
16 &#32;&#32;&#32;&#32;uint32_t&#32;max_area;
17 &#32;&#32;&#32;&#32;uint32_t&#32;cur_area;
18 &#32;&#32;&#32;&#32;uint32_t&#32;position;
19 &#32;&#32;&#32;&#32;uint32_t&#32;back_color;
20 &#32;&#32;&#32;&#32;uint32_t&#32;front_color;
21 &#32;&#32;&#32;&#32;uint32_t&#32;line_color;
22 &#32;&#32;&#32;&#32;uint32_t&#32;redraw;
23 &#32;&#32;&#32;&#32;uint16_t&#32;delta;
24 &#32;&#32;&#32;&#32;uint16_t&#32;delta2;
25 &#32;&#32;&#32;&#32;uint16_t&#32;r_size_x;
26 &#32;&#32;&#32;&#32;uint16_t&#32;r_start_x;
27 &#32;&#32;&#32;&#32;uint16_t&#32;r_size_y;
28 &#32;&#32;&#32;&#32;uint16_t&#32;r_start_y;
29 &#32;&#32;&#32;&#32;uint32_t&#32;m_pos;
30 &#32;&#32;&#32;&#32;uint32_t&#32;m_pos2;
31 &#32;&#32;&#32;&#32;uint32_t&#32;m_keys;
32 &#32;&#32;&#32;&#32;uint32_t&#32;run_size;
33 &#32;&#32;&#32;&#32;uint32_t&#32;position2;
34 &#32;&#32;&#32;&#32;uint32_t&#32;work_size;
35 &#32;&#32;&#32;&#32;uint32_t&#32;all_redraw;&#32;&#32;<emphasis role="comment">//&#32;need&#32;to&#32;be&#32;set&#32;=1&#32;before&#32;each&#32;redraw</emphasis>
36 &#32;&#32;&#32;&#32;uint32_t&#32;ar_offset;
37 }&#32;scrollbar;
38 
39 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;scrollbar*&#32;kolibri_scrollbar(scrollbar*&#32;sb,&#32;uint32_t&#32;x_w,&#32;uint32_t&#32;y_h,&#32;uint32_t&#32;btn_height,&#32;uint32_t&#32;max_area,
40 &#32;&#32;&#32;&#32;uint32_t&#32;cur_area,&#32;uint32_t&#32;position,&#32;uint32_t&#32;back_color,&#32;uint32_t&#32;front_color,&#32;uint32_t&#32;line_color)
41 {
42 &#32;&#32;&#32;&#32;memset(sb,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(scrollbar));
43 
44 &#32;&#32;&#32;&#32;sb-&gt;x_w&#32;=&#32;x_w;
45 &#32;&#32;&#32;&#32;sb-&gt;y_h&#32;=&#32;y_h;
46 &#32;&#32;&#32;&#32;sb-&gt;btn_height&#32;=&#32;btn_height;
47 &#32;&#32;&#32;&#32;sb-&gt;type&#32;=&#32;1;
48 &#32;&#32;&#32;&#32;sb-&gt;max_area&#32;=&#32;max_area;
49 &#32;&#32;&#32;&#32;sb-&gt;cur_area&#32;=&#32;cur_area;
50 &#32;&#32;&#32;&#32;sb-&gt;position&#32;=&#32;position;
51 &#32;&#32;&#32;&#32;sb-&gt;line_color&#32;=&#32;line_color;
52 &#32;&#32;&#32;&#32;sb-&gt;back_color&#32;=&#32;back_color;&#32;&#32;<emphasis role="comment">//&#32;0xeeeeee</emphasis>
53 &#32;&#32;&#32;&#32;sb-&gt;front_color&#32;=&#32;front_color;&#32;<emphasis role="comment">//&#32;0xbbddff</emphasis>
54 &#32;&#32;&#32;&#32;sb-&gt;ar_offset&#32;=&#32;max_area&#32;/&#32;30;&#32;<emphasis role="comment">//&#32;temporary&#32;step&#32;3%</emphasis>
55 &#32;&#32;&#32;&#32;sb-&gt;all_redraw&#32;=&#32;1;
56 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;sb;
57 };
58 
59 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;scrollbar*&#32;kolibri_new_scrollbar(uint32_t&#32;x_w,&#32;uint32_t&#32;y_h,&#32;uint32_t&#32;btn_height,&#32;uint32_t&#32;max_area,
60 &#32;&#32;&#32;&#32;uint32_t&#32;cur_area,&#32;uint32_t&#32;position,&#32;uint32_t&#32;back_color,&#32;uint32_t&#32;front_color,&#32;uint32_t&#32;line_color)
61 {
62 &#32;&#32;&#32;&#32;scrollbar&#32;*sb&#32;=&#32;(scrollbar&#32;*)malloc(<emphasis role="keyword">sizeof</emphasis>(scrollbar));
63 
64 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;kolibri_scrollbar(sb,&#32;x_w,&#32;y_h,&#32;btn_height,&#32;max_area,&#32;cur_area,&#32;position,&#32;back_color,&#32;front_color,&#32;line_color);
65 };
66 
67 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;scrollbar*&#32;kolibri_scrollbar_def(scrollbar*&#32;sb,&#32;uint32_t&#32;x_w,&#32;uint32_t&#32;y_h,&#32;uint32_t&#32;max_area,&#32;uint32_t&#32;cur_area,&#32;uint32_t&#32;position)
68 {
69 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;kolibri_scrollbar(sb,&#32;x_w,&#32;y_h,&#32;15,&#32;max_area,&#32;cur_area,&#32;position,&#32;<link linkend="_namespace_kolibri_lib_1_1_o_s_1a3d1ea9fa87ea6d6c8e1a33c18dfb1ebf">KolibriLib::OS::GetSystemColors</link>().work_area,&#32;
70 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_kolibri_lib_1_1_o_s_1a3d1ea9fa87ea6d6c8e1a33c18dfb1ebf">KolibriLib::OS::GetSystemColors</link>().work_button,&#32;<link linkend="_namespace_kolibri_lib_1_1_o_s_1a3d1ea9fa87ea6d6c8e1a33c18dfb1ebf">KolibriLib::OS::GetSystemColors</link>().work_button_text);
71 };
72 
73 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;scrollbar*&#32;kolibri_new_scrollbar_def(uint32_t&#32;x_w,&#32;uint32_t&#32;y_h,&#32;uint32_t&#32;max_area,&#32;uint32_t&#32;cur_area,&#32;uint32_t&#32;position)
74 {
75 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;kolibri_new_scrollbar(x_w,&#32;y_h,&#32;15,&#32;max_area,&#32;cur_area,&#32;position,&#32;<link linkend="_namespace_kolibri_lib_1_1_o_s_1a3d1ea9fa87ea6d6c8e1a33c18dfb1ebf">KolibriLib::OS::GetSystemColors</link>().work_area,&#32;
76 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_namespace_kolibri_lib_1_1_o_s_1a3d1ea9fa87ea6d6c8e1a33c18dfb1ebf">KolibriLib::OS::GetSystemColors</link>().work_button,&#32;<link linkend="_namespace_kolibri_lib_1_1_o_s_1a3d1ea9fa87ea6d6c8e1a33c18dfb1ebf">KolibriLib::OS::GetSystemColors</link>().work_button_text);
77 }
78 
79 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;gui_add_scrollbar_h(<link linkend="_structkolibri__window">kolibri_window</link>&#32;*wnd,&#32;scrollbar*&#32;sb)
80 {
81 &#32;&#32;&#32;&#32;kolibri_window_add_element(wnd,&#32;KOLIBRI_SCROLL_BAR_H,&#32;sb);
82 }
83 
84 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;gui_add_scrollbar_v(<link linkend="_structkolibri__window">kolibri_window</link>&#32;*wnd,&#32;scrollbar*&#32;sb)
85 {
86 &#32;&#32;&#32;&#32;kolibri_window_add_element(wnd,&#32;KOLIBRI_SCROLL_BAR_V,&#32;sb);
87 }
88 
89 <emphasis role="keyword">extern</emphasis>&#32;void&#32;(*scrollbar_h_draw)(scrollbar*)&#32;__attribute__((__stdcall__));
90 <emphasis role="keyword">extern</emphasis>&#32;void&#32;(*scrollbar_h_mouse)(scrollbar*)&#32;__attribute__((__stdcall__));
91 <emphasis role="keyword">extern</emphasis>&#32;void&#32;(*scrollbar_v_draw)(scrollbar*)&#32;__attribute__((__stdcall__));
92 <emphasis role="keyword">extern</emphasis>&#32;void&#32;(*scrollbar_v_mouse)(scrollbar*)&#32;__attribute__((__stdcall__));
93 
94 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">/*&#32;KOLIBRI_SCROLLBAR_H&#32;*/</emphasis><emphasis role="preprocessor"></emphasis>
</programlisting></section>
