<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_kolibri__pathshow_8h_source" xml:lang="ru">
<title>kolibri_pathshow.h</title>
<indexterm><primary>C:/Users/yyari/Documents/KolibriOS/KolibriOS-Cpp-Lib/include/C_Layer/INCLUDE/kolibri_pathshow.h</primary></indexterm>
<programlisting linenumbering="unnumbered">1 <emphasis role="preprocessor">#ifndef&#32;KOLIBRI_PATHSHOW_H</emphasis>
2 <emphasis role="preprocessor">#define&#32;KOLIBRI_PATHSHOW_H</emphasis>
3 
4 <emphasis role="preprocessor">#include&#32;&lt;kos32sys.h&gt;</emphasis>
5 
6 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>__attribute__&#32;((__packed__))&#32;{
7 &#32;&#32;&#32;&#32;uint32_t&#32;type;
8 &#32;&#32;&#32;&#32;uint32_t&#32;x_y;
9 &#32;&#32;&#32;&#32;uint16_t&#32;font_size_x;&#32;&#32;<emphasis role="comment">//&#32;6&#32;-&#32;for&#32;font&#32;0,&#32;8&#32;-&#32;for&#32;font&#32;1</emphasis>
10 &#32;&#32;&#32;&#32;uint16_t&#32;area_size_x;
11 &#32;&#32;&#32;&#32;uint32_t&#32;font_number;&#32;&#32;<emphasis role="comment">//&#32;0&#32;-&#32;monospace,&#32;1&#32;-&#32;variable,&#32;as&#32;fn4&#32;(2bit&#32;only&#32;0-3)</emphasis>
12 &#32;&#32;&#32;&#32;uint32_t&#32;background_flag;&#32;<emphasis role="comment">//&#32;as&#32;fn4,&#32;if&#32;0,&#32;bk_color&#32;unneeded</emphasis>
13 &#32;&#32;&#32;&#32;color_t&#32;&#32;font_color;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;as&#32;fn4</emphasis>
14 &#32;&#32;&#32;&#32;color_t&#32;&#32;background_color;&#32;<emphasis role="comment">//&#32;as&#32;fn4</emphasis>
15 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>*&#32;text_pointer;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;4096&#32;?</emphasis>
16 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>*&#32;work_area_pointer;&#32;&#32;<emphasis role="comment">//&#32;4096&#32;?</emphasis>
17 &#32;&#32;&#32;&#32;uint32_t&#32;temp_text_length;
18 }&#32;pathview;
19 
20 
21 
22 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;pathview*&#32;kolibri_pathview(pathview*&#32;p,&#32;uint32_t&#32;x_y,&#32;uint32_t&#32;width,&#32;uint32_t&#32;font_number,&#32;uint32_t&#32;is_bkgr,&#32;<emphasis role="keywordtype">char</emphasis>*&#32;text,&#32;<emphasis role="keywordtype">char</emphasis>*&#32;temp_buf,&#32;color_t&#32;font,&#32;color_t&#32;&#32;bkgr)
23 {
24 &#32;&#32;&#32;&#32;p-&gt;type&#32;=&#32;p-&gt;temp_text_length&#32;=&#32;0;
25 &#32;&#32;&#32;&#32;p-&gt;x_y&#32;=&#32;x_y;
26 &#32;&#32;&#32;&#32;p-&gt;font_size_x&#32;=&#32;font_number&#32;==&#32;0&#32;?&#32;6&#32;:&#32;8;&#32;&#32;<emphasis role="comment">//&#32;need&#32;correction&#32;for&#32;bigger&#32;fonts</emphasis>
27 &#32;&#32;&#32;&#32;p-&gt;area_size_x&#32;=&#32;width;
28 &#32;&#32;&#32;&#32;p-&gt;font_number&#32;=&#32;font_number;
29 &#32;&#32;&#32;&#32;p-&gt;background_flag&#32;=&#32;is_bkgr;
30 &#32;&#32;&#32;&#32;p-&gt;text_pointer&#32;=&#32;text;
31 &#32;&#32;&#32;&#32;p-&gt;work_area_pointer&#32;=&#32;temp_buf;
32 &#32;&#32;&#32;&#32;p-&gt;font_color&#32;=&#32;font;
33 &#32;&#32;&#32;&#32;p-&gt;background_color&#32;=&#32;bkgr;
34 
35 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;p;
36 }
37 
38 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;pathview*&#32;kolibri_new_pathview(pathview*&#32;p,&#32;uint32_t&#32;x_y,&#32;uint32_t&#32;width,&#32;uint32_t&#32;font_number,&#32;uint32_t&#32;is_bkgr,&#32;<emphasis role="keywordtype">char</emphasis>*&#32;text,&#32;<emphasis role="keywordtype">char</emphasis>*&#32;temp_buf,&#32;color_t&#32;font,&#32;color_t&#32;&#32;bkgr)
39 {
40 &#32;&#32;&#32;&#32;pathview&#32;*new_pv&#32;=&#32;(pathview&#32;*)malloc(<emphasis role="keyword">sizeof</emphasis>(pathview));
41 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;kolibri_pathview(new_pv,&#32;x_y,&#32;width,&#32;font_number,&#32;is_bkgr,&#32;text,&#32;temp_buf,&#32;font,&#32;bkgr);
42 }
43 
44 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">inline</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;gui_add_pathview(<link linkend="_structkolibri__window">kolibri_window</link>&#32;*wnd,&#32;pathview*&#32;pv)
45 {
46 &#32;&#32;&#32;&#32;kolibri_window_add_element(wnd,&#32;KOLIBRI_PATHSHOW,&#32;pv);
47 }
48 
49 
50 <emphasis role="keyword">extern</emphasis>&#32;void&#32;(*path_show_prepare)(pathview&#32;*)&#32;__attribute__((__stdcall__));
51 <emphasis role="keyword">extern</emphasis>&#32;void&#32;(*path_show_draw)(pathview&#32;*)&#32;__attribute__((__stdcall__));
52 
53 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">/*&#32;KOLIBRI_PATHSHOW_H&#32;*/</emphasis><emphasis role="preprocessor"></emphasis>
</programlisting></section>
